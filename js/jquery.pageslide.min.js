(function($){$.fn.pageSlide=function(options){var open=false;var settings=$.extend({width:300,duration:"normal",start:function(){},stop:function(){},loaded:function(){},html:null,closers:null},options);function _initialize(){var psBodyWrap=document.createElement("div");$(psBodyWrap).attr("id","pageslide-body-wrap").width($("body").width());var psSlideContent=document.createElement("div");$(psSlideContent).attr("id","pageslide-content").width(settings.width);var psSlideWrap=document.createElement("div");$(psSlideWrap).attr("id","pageslide-slide-wrap").append(psSlideContent);$("body").contents().wrapAll(psBodyWrap);$("body").append(psSlideWrap);$("#pageslide-content").html(settings.html).queue(function(){settings.loaded();$(this).dequeue();});$(document).click(function(){if(open){_closeSlide();}});$("#pageslide-slide-wrap").click(function(e){if($('a, '+settings.closers).index($(e.target))==-1){return false;}});$(window).resize(function(){$("#pageslide-body-wrap").width($("body").width());});};var BOUNCE_TIME="fast";function _openSlide(el){settings.start('opening');$("#pageslide-slide-wrap").animate({width:settings.width*1.2},settings.duration).animate({width:settings.width},BOUNCE_TIME);$("#pageslide-body-wrap").animate({left:"-"+settings.width*1.2},settings.duration).animate({left:"-"+settings.width},BOUNCE_TIME,function(){open=true;settings.stop('open');});};function _closeSlide(){settings.start('closing');$("#pageslide-body-wrap").animate({left:"-"+settings.width*1.2},BOUNCE_TIME).animate({left:"0"},settings.duration);$("#pageslide-slide-wrap").animate({width:settings.width*1.2},BOUNCE_TIME).animate({width:"0"},settings.duration,function(){open=false;settings.stop('close');});}
if($("#pageslide-body-wrap").length==0)_initialize();return this.each(function(){$(this).unbind("click").bind("click",function(){_openSlide(this);return false;});});};})(jQuery);